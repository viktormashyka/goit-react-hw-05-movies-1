{"version":3,"file":"static/js/931.4b5a8074.chunk.js","mappings":"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","sources":["api.js","components/SearchBox.styled.js","components/SearchBox.jsx","pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n// import PropTypes from 'prop-types';\n\nconst BASE_URL = 'https://api.themoviedb.org/';\nconst API_KEY = '857288c3c5f42347171bc7541b9a4b57';\n\nexport const fetchMoviesTrendingToday = async signal => {\n  const url = `${BASE_URL}3/trending/movie/day?api_key=${API_KEY}&language=en-US&page=1&include_adult=false`;\n  try {\n    const response = await axios.get(url, { signal: signal });\n    console.log(\n      'fetchMoviesTrendingToday response.data.results, ',\n      response.data.results\n    );\n    const movies = getNormalizedMovies(response.data.results);\n    return movies;\n  } catch (error) {\n    if (axios.isCancel(error)) {\n      return [];\n    }\n    throw new Error(error);\n  }\n};\n\n// export const fetchMoviesTrendingToday = async () => {\n//   const url = `${BASE_URL}3/trending/movie/day?api_key=${API_KEY}&language=en-US&page=1&include_adult=false`;\n//   try {\n//     const response = await axios.get(url);\n//     console.log(\n//       'fetchMoviesTrendingToday response.data.results, ',\n//       response.data.results\n//     );\n//     const movies = getNormalizedMovies(response.data.results);\n//     return movies;\n//   } catch (error) {\n//     throw new Error(error);\n//   }\n// };\n\nexport const fetchMoviesByName = async ({ query }) => {\n  const url = `${BASE_URL}3/search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${query}`;\n  try {\n    const response = await axios.get(url);\n    console.log(\n      'fetchMoviesByName response.data.results, ',\n      response.data.results\n    );\n    const movies = getNormalizedMovies(response.data.results);\n    return movies;\n  } catch (error) {\n    throw new Error(error);\n  }\n};\n\nconst getNormalizedMovies = movies => {\n  const normalizedData = movies.map(\n    ({ id, original_title, title, overview, genres }) => {\n      return { id, original_title, title, overview, genres };\n    }\n  );\n  return normalizedData;\n};\n\nexport const fetchMovieById = async ({ movieId }) => {\n  const url = `${BASE_URL}3/movie/${movieId}?api_key=${API_KEY}&language=en-US&page=1&include_adult=false`;\n  try {\n    const response = await axios.get(url);\n    console.log('fetchMoviesById response.data, ', response.data);\n    // const movie = getNormalizedMovies(response.data.results);\n    const movie = response.data;\n    return movie;\n  } catch (error) {\n    throw new Error(error);\n  }\n};\n\nexport const fetchMovieByIdCast = async ({ movieId }) => {\n  const url = `${BASE_URL}3/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US&page=1&include_adult=false`;\n  try {\n    const response = await axios.get(url);\n    console.log('fetchMovieByIdCast response.data.cast, ', response.data.cast);\n    // const movie = getNormalizedMovies(response.data.results);\n    const cast = response.data.cast;\n    return cast;\n  } catch (error) {\n    throw new Error(error);\n  }\n};\n\nexport const fetchMovieByIdReviews = async ({ movieId }) => {\n  const url = `${BASE_URL}3/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1&include_adult=false`;\n  try {\n    const response = await axios.get(url);\n    console.log(\n      'fetchMovieByIdReviews response.data.results, ',\n      response.data.results\n    );\n    // const movie = getNormalizedMovies(response.data.results);\n    const movie = response.data.results;\n    return movie;\n  } catch (error) {\n    throw new Error(error);\n  }\n};\n\n// export const getMovieById = movieId => {\n//   return movies.find(movie => movie.id === movieId);\n// };\n\n// export const getProductById = productId => {\n//   return products.find(product => product.id === productId);\n// };\n\n// fetchPhotos.propTypes = {\n//   searchPhotos: PropTypes.array.isRequired,\n//   page: PropTypes.number.isRequired,\n// };\n\n// import axios from 'axios';\n// import PropTypes from 'prop-types';\n\n// const BASE_URL = 'https://pixabay.com/api/';\n// const API_KEY = '29782836-0cb6e5c5167e525a8102df66c';\n\n// export const fetchPhotos = async ({ searchPhotos, page }) => {\n//   const per_page = 12;\n\n//   const url = `${BASE_URL}?key=${API_KEY}&q=${searchPhotos}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${per_page}`;\n\n//   try {\n//     const response = await axios.get(url);\n\n//     const images = getNormalizedImages(response.data.hits);\n//     const pages = Math.ceil(response.data.totalHits / per_page);\n\n//     return { images, pages };\n//   } catch (error) {\n//     throw new Error(error);\n//   }\n// };\n\n// const getNormalizedImages = images => {\n//   const normalizedData = images.map(\n//     ({ id, tags, webformatURL, largeImageURL }) => {\n//       return { id, tags, webformatURL, largeImageURL };\n//     }\n//   );\n//   return normalizedData;\n// };\n\n// fetchPhotos.propTypes = {\n//   searchPhotos: PropTypes.array.isRequired,\n//   page: PropTypes.number.isRequired,\n// };\n\n//*** ***/\n","import styled from 'styled-components';\nimport { HiSearch } from 'react-icons/hi';\n\nexport const Wrapper = styled.div`\n  display: inline-flex;\n  align-items: center;\n  position: relative;\n  margin-bottom: 16px;\n  text-transform: uppercase;\n`;\n\nexport const Input = styled.input`\n  padding: 8px 32px 8px 8px;\n  border-radius: 4px;\n  font: inherit;\n`;\n\nexport const Icon = styled(HiSearch)`\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 6px;\n`;\n","import { Wrapper, Input, Icon } from './SearchBox.styled';\n\nexport const SearchBox = ({ value, onChange }) => {\n  return (\n    <Wrapper>\n      <Icon />\n      <Input\n        type=\"text\"\n        value={value}\n        onChange={e => onChange(e.target.value)}\n      />\n    </Wrapper>\n  );\n};\n\n// export const SearchBox = ({ value, onSubmit }) => {\n//   // const [inputValues, setInputValues] = useState({ name: '' });\n\n//   // const handleChange = evt => {\n//   //   const { name, value } = evt.target;\n//   //   setInputValues({ ...inputValues, [name]: value });\n//   // };\n//   // const handleSubmit = e => {\n//   //   e.preventDefault();\n//   //   onSubmit({ ...inputValues });\n//   // };\n//   // const handleSubmit = evt => {\n//   //   evt.preventDefault();\n//   //   onSubmit({ ...inputValues });\n\n//   //   setInputValues({ name: '', number: '' });\n//   // };\n\n//   const handleSubmit = evt => {\n//     evt.preventDefault();\n//     const form = evt.currentTarget;\n//     const query = form.elements.login.value;\n//     onSubmit({ query });\n//     form.reset();\n//   };\n\n//   return (\n//     <form onSubmit={handleSubmit}>\n//       <label>\n//         <Wrapper>\n//           <Icon />\n//           <Input\n//             name=\"name\"\n//             type=\"text\"\n//             value={value}\n//             // onChange={e => onChange(e.target.value)}\n//           />\n//           <button type=\"submit\">\n//             <Icon />\n//           </button>\n//         </Wrapper>\n//       </label>\n//     </form>\n//   );\n// };\n\n\n\n// export const Searchbar = ({ onSubmit }) => {\n//   const [searchPhotos, setSearchPhotos] = useState('');\n\n//   const handleChange = evt => {\n//     setSearchPhotos(evt.currentTarget.value.toLowerCase());\n//   };\n\n//   const handleSubmit = evt => {\n//     evt.preventDefault();\n\n//     if (searchPhotos.trim() === '') {\n//       return toast.info('Input search name please ...');\n//     }\n//     onSubmit(searchPhotos);\n\n//     setSearchPhotos('');\n//   };\n\n/* <header className=\"Searchbar\">\n  <form className=\"SearchForm\" onSubmit={handleSubmit}>\n    <button type=\"submit\" className=\"SearchForm-button\">\n      <span className=\"SearchForm-button-label\">Search</span>\n    </button>\n\n    <input\n      className=\"SearchForm-input\"\n      type=\"text\"\n      value={searchPhotos}\n      autoComplete=\"off\"\n      autoFocus\n      placeholder=\"Search images and photos\"\n      onChange={handleChange}\n    />\n  </form>\n</header>; */\n\n// import { Wrapper, Input, Icon } from './SearchBox.styled';\n\n// export const SearchBox = ({ value, onChange }) => {\n//   return (\n//     <Wrapper>\n//       <Icon />\n//       <Input\n//         type=\"text\"\n//         value={value}\n//         onChange={e => onChange(e.target.value)}\n//       />\n//     </Wrapper>\n//   );\n// };\n\n// export const SearchBox = ({ value, onChange, onSubmit }) => {\n//     const [query, setQuery] = useState('');\n\n//     const handleSubmit = evt => {\n//               evt.preventDefault();\n\n//     if (query.trim() === '') {\n//       return toast.info('Input search name movie please ...');\n//     }\n\n//     onSubmit(query);\n\n//     setQuery('');\n//     };\n\n//   return (\n//     <Wrapper>\n//       <form className=\"SearchForm\" onSubmit={handleSubmit}>\n//         <button type=\"submit\" className=\"SearchForm-button><Icon /></button>\n//         <Input\n//         type=\"text\"\n//         value={value}\n//         autoComplete=\"off\"\n//         autoFocus\n//         placeholder=\"Search images and photos\"\n//         onChange={e => onChange(e.target.value)}\n//         />\n//       </form>\n//     </Wrapper>\n//   );\n// };\n","import { useSearchParams } from 'react-router-dom';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\n\nimport { SearchBox } from '../components/SearchBox';\nimport { fetchMoviesByName } from '../api';\n\nconst Movies = ({ query }) => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieName = searchParams.get('query') ?? '';\n  const location = useLocation();\n\n  const updateQueryString = query => {\n    const nextParams = query !== '' ? { query } : {};\n    setSearchParams(nextParams);\n  };\n  console.log('query: movieName, ', { query: movieName });\n\n  useEffect(() => {\n    if (!movieName) return;\n    const getMovies = async () => {\n      const movies = await fetchMoviesByName({ query: movieName });\n      setMovies(movies);\n    };\n    getMovies();\n  }, [movieName]);\n\n  return (\n    <main style={{ marginLeft: '30px' }}>\n      <SearchBox value={movieName} onChange={updateQueryString} />\n      {/* <SearchBox value={movieName} onSubmit={values => console.log(values)} /> */}\n      <h1>Movies by name:</h1>\n      <ul>\n        {movies.map(({ id, title }) => (\n          <li key={id}>\n            <Link to={`${id}`} state={{ from: location }}>\n              <p>{title}</p>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </main>\n  );\n};\n\nexport default Movies;\n\n// import { useSearchParams } from 'react-router-dom';\n// import { ProductList } from '../components/ProductList';\n// import { SearchBox } from '../components/SearchBox';\n// import { getProducts } from '../fakeAPI';\n\n// export const Products = () => {\n//   const products = getProducts();\n//   const [searchParams, setSearchParams] = useSearchParams();\n//   const productName = searchParams.get('name') ?? '';\n\n//   const visibleProducts = products.filter(product =>\n//     product.name.toLowerCase().includes(productName.toLowerCase())\n//   );\n\n// const updateQueryString = name => {\n//   const nextParams = name !== '' ? { name } : {};\n//   setSearchParams(nextParams);\n// };\n\n//   return (\n//     <main>\n//       <SearchBox value={productName} onChange={updateQueryString} />\n//       <ProductList products={visibleProducts} />\n//     </main>\n//   );\n// };\n\n// import axios from 'axios';\n// import { Notify } from 'notiflix';\n\n// export { feachPhotos };\n\n// async function feachPhotos(searchPhotos, page, per_page) {\n//   const BASE_URL = 'https://pixabay.com/api/';\n//   const API_KEY = '29782836-0cb6e5c5167e525a8102df66c';\n//   const url = `${BASE_URL}?key=${API_KEY}&q=${searchPhotos}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${per_page}`;\n//   const response = await axios.get(url);\n//   // {\n//   //   params: {\n//   //     // q: 'searchPhotos',\n//   //     image_type: 'photo',\n//   //     orientation: 'horizontal',\n//   //     safesearch: 'true',\n//   //     page: 1,\n//   //     per_page: 40,\n//   //   },\n//   //   header: {\n//   //     'Content-Type': 'aplication/json',\n//   //     Authorization: '29782836-0cb6e5c5167e525a8102df66c',\n//   //   },\n//   // }\n//   // );\n//   if (response.status !== 200) {\n//     throw new Error(response.status);\n//     Notify.failure(error);\n//   }\n//   return response.data;\n// }\n"],"names":["BASE_URL","API_KEY","fetchMoviesTrendingToday","signal","url","axios","response","console","log","data","results","movies","getNormalizedMovies","Error","fetchMoviesByName","query","map","id","original_title","title","overview","genres","fetchMovieById","movieId","movie","fetchMovieByIdCast","cast","fetchMovieByIdReviews","Wrapper","styled","Input","Icon","HiSearch","SearchBox","value","onChange","type","e","target","useState","setMovies","useSearchParams","searchParams","setSearchParams","movieName","get","location","useLocation","useEffect","getMovies","style","marginLeft","to","state","from"],"sourceRoot":""}